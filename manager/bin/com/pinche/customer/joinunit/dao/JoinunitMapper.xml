<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pinche.customer.joinunit.dao.JoinunitMapper" >

    <resultMap
        id="JoinunitResult"
        type="Joinunit" >

        <id
            column="id"
            property="id" />

        <result
            column="unit_id"
            property="unit_id" />

        <result
            column="name"
            property="name" />

        <result
            column="create_date"
            property="create_date" />

        <result
            column="linkname"
            property="linkname" />

        <result
            column="linkphone"
            property="linkphone" />

        <result
            column="group_property"
            property="group_property" />

        <result
            column="contract_no"
            property="contract_no" />

        <result
            column="fix_phone"
            property="fix_phone" />

        <result
            column="email"
            property="email" />

        <result
            column="fax"
            property="fax" />

        <result
            column="group_address"
            property="group_address" />

        <result
            column="invite_code"
            property="invite_code" />

        <result
            column="balance_ts"
            property="balance_ts" />

        <result
            column="ratio_as_passenger_self"
            property="ratio_as_passenger_self" />

        <result
            column="integer_as_passenger_self"
            property="integer_as_passenger_self" />

        <result
            column="active_as_passenger_self"
            property="active_as_passenger_self" />

        <result
            column="ratio_as_driver_self"
            property="ratio_as_driver_self" />

        <result
            column="integer_as_driver_self"
            property="integer_as_driver_self" />

        <result
            column="active_as_driver_self"
            property="active_as_driver_self" />

        <result
            column="limit_month_as_passenger_self"
            property="limit_month_as_passenger_self" />

        <result
            column="limit_month_as_driver_self"
            property="limit_month_as_driver_self" />

        <result
            column="limit_count_as_passenger_self"
            property="limit_count_as_passenger_self" />

        <result
            column="limit_count_as_driver_self"
            property="limit_count_as_driver_self" />

        <result
            column="goods"
            property="goods" />

        <result
            column="deleted"
            property="deleted" />
    </resultMap>

    <select
        id="findAll"
        resultMap="JoinunitResult" >
		SELECT * FROM app_spread_unit
		WHERE deleted=0
    </select>

    <select
        id="findById"
        parameterType="int"
        resultType="Joinunit" >
		SELECT * FROM app_spread_unit WHERE id=#{id} AND deleted=0
    </select>

    <update
        id="updateTsid"
        parameterType="hashmap" >
		UPDATE `app_spread_unit` SET balance_ts=#{ts} WHERE id=#{id}
    </update>

</mapper>